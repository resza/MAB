
// 定义全局变量、常量等
#include "global.h"
unsigned char flagprint;
SYS_PARAM		glSysParam, glSysParamBak;		// 系统配置参数
SYS_CONTROL		glSysCtrl;		// 系统控制参数
SYS_PROC_INFO	glProcInfo;		// 交易处理信息

COMM_DATA		glSendData, glRecvData;		// 通讯数据
STISO8583		glSendPack;		// 发送报文
STISO8583		glRecvPack;		// 接收报文
STISO8583		glReversalPack;		// 发送报文


STTMS8583		glTMSSend;		// TMS发送报文
STTMS8583		glTMSRecv;		// TMS接收报文

STTMSTELIUM8583		glTMSTELIUMSend;
STTMSTELIUM8583		glTMSTELIUMRecv;
 
ST_EVENT_MSG	*glEdcMsgPtr;	// 管理器事件

ACQUIRER		glCurAcq;		// 当前收单行
ISSUER			glCurIssuer;	// 当前发卡行

COMM_CONFIG		glCommCfg;		// 当前通讯配置参数

TOTAL_INFO		glAcqTotal[MAX_ACQ];		// 收单行汇总信息
TOTAL_INFO		glIssuerTotal[MAX_ISSUER];	// 发卡行汇总信息
TOTAL_INFO		glCardTotal[dimBin];
TOTAL_INFO		glEdcTotal;		// 终端汇总信息
TOTAL_INFO		glTransTotal;	// 交易处理使用的汇总信息
TOTAL_INFO		glPrnTotal;		// 单据打印使用的汇总信息
BRIZZI_TOTAL_INFO	glBrizziTotal;

#ifdef __TELIUM_PARAM__
TLM_CON				glTlmTmsCon;
TLM_TMS_AID			glTlmTmsAid;
TLM_TMS_PUB			glTlmTmsPub;
TLM_TMS_BIN			glTlmTmsBin;
TLM_TMS_ACQ		glTlmTmsAcq;
TLM_TMS_ISS			glTlmTmsIss;
TLM_REG				glTlmReg;

TLM_TMS				glTlmTmsParam;

TLM_ISS				glCurTlmTmsIss;
TLM_ACQ				glCurTlmTmsAcq;

TLM_SYS_PARAM		glTlmSysParam, glTlmSysParamBak ;

TRAN_CONFIG		glCurTranConfig;

TLMFILE				TlmFile[5];

REPRN_STL_INFO	stRePrnStlInfo;

#endif //__TELIUM_PARAM__

#ifdef ENABLE_EMV
EMV_PARAM		glEmvParam;
EMV_STATUS		glEmvStatus;
#endif

// 所有支持的语言列表
const LANG_CONFIG glLangList[] = {
	{"English",      "",               CHARSET_WEST},
#if defined(_P60_S1_) || defined(_P70_S_)
	{"Chinese Trad", "CHS.LNG",        CHARSET_GB2312},		// in P60s1, use GB2312 code but traditional appearance.
#else
	{"Chinese Simp", "CHS.LNG",        CHARSET_GB2312},
	{"Chinese Trad", "CHT.LNG",        CHARSET_BIG5},
#endif
	{"Vietnamese",   "VIETNAMESE.LNG", CHARSET_VIETNAM},
	{"Thai",         "THAI.LNG",       CHARSET_WEST},
	{"Japanese",     "JAPANESE.LNG",   CHARSET_SHIFT_JIS},
	{"Korea",        "KOREA.LNG",      CHARSET_KOREAN},
	{"Arabia",       "ARABIA.LNG",	   CHARSET_ARABIA},
	{"", "", 0},
	// need pending
};

const CURRENCY_CONFIG glCurrency[] =
{
	"HKD", "\x03\x44", "\x03\x44", 2, 0, //Hong Kong Dollars
	"HK",  "\x03\x44", "\x03\x44", 2, 0,
	"HK$", "\x03\x44", "\x03\x44", 2, 0,
	"CNY", "\x01\x56", "\x01\x56", 2, 0, //Chinese Yuan
	"RMB", "\x01\x56", "\x01\x56", 2, 0,
	"JPY", "\x03\x92", "\x03\x92", 0, 2, //Japanese Yen				// special
	"EUR", "\x09\x78", "\x00\x00", 2, 0, //Euro -- Country not determined
	"MOP", "\x04\x46", "\x04\x46", 2, 0, //Macao Pataca
	"MYR", "\x04\x58", "\x04\x58", 2, 0, //Malaysian Ringgit
	"PHP", "\x06\x08", "\x06\x08", 2, 0, //Philippine Pesos
	
	"SGD", "\x07\x02", "\x07\x02", 2, 0, //Singapore Dollars
	"THB", "\x07\x64", "\x07\x64", 2, 0, //Thai Baht
	"TWD", "\x09\x01", "\x01\x58", 2, 0, //New Taiwanese Dollars
	"NT",  "\x09\x01", "\x01\x58", 2, 0,
	"NT$", "\x09\x01", "\x01\x58", 2, 0,
	"USD", "\x08\x40", "\x08\x40", 2, 0, //US Dollars
	"VND", "\x07\x04", "\x07\x04", 0, 2, //Vietnam DONG				// special
	"AED", "\x07\x84", "\x07\x84", 2, 0, //United Arab Durham
	"AUD", "\x00\x36", "\x00\x36", 2, 0, //Australian Dollars
	"CAD", "\x01\x24", "\x01\x24", 2, 0, //Canadian Dollars

	"CYP", "\x01\x96", "\x01\x96", 2, 0, //Cypriot Pounds
	"CHF", "\x07\x56", "\x07\x56", 2, 0, //Swiss Francs
	"DKK", "\x02\x08", "\x02\x08", 2, 0, //Danish Krone
	"GBP", "\x08\x26", "\x08\x26", 2, 0, //British Pounds Sterling
	"IDR", "\x03\x60", "\x03\x60", 0, 0, //Indonesia Rupiah			// special
	"INR", "\x03\x56", "\x03\x56", 2, 0, //Indian Rupee
	"ISK", "\x03\x52", "\x03\x52", 2, 0, //Icelandic krone
	"KRW", "\x04\x10", "\x04\x10", 0, 2, //South Korean Won			// special
	"LKR", "\x01\x44", "\x01\x44", 2, 0, //Sri-Lanka Rupee
	"MTL", "\x04\x70", "\x04\x70", 2, 0, //Maltese Lira

	"NOK", "\x05\x78", "\x05\x78", 2, 0, //Norwegian Krone
	"NZD", "\x05\x54", "\x05\x54", 2, 0, //New Zealand Dollars
	"RUB", "\x06\x43", "\x06\x43", 2, 0, //Russian Ruble
	"SAR", "\x06\x82", "\x06\x82", 2, 0, //Saudi Riyal
	"SEK", "\x07\x52", "\x07\x52", 2, 0, //Swedish krone
	"TRL", "\x07\x92", "\x07\x92", 2, 0, //Turkey Lira
	"VEF", "\x09\x37", "\x08\x62", 2, 0, //Bolivar Fuerte (Venezuela)
	"ZAR", "\x07\x10", "\x07\x10", 2, 0, //South African Rand
	"KWD", "\x04\x14", "\x04\x14", 3, 0, //Kuwaiti Dinar			// special
	"CLP", "\x01\x52", "\x01\x52", 0, 2, //Chilean Piso				// special

	"Rp.", "\x03\x60", "\x03\x60", 0, 2, //Indonesia Rupiah			// special, irf, 20121203
	"", "", 0, 0,
};

// !!!! Here must be one-one and accordant to the sequence of enum{PREAUTH,AUTH,...}
// !!!! See definition of "SALE","PREAUTH", ...
TRAN_CONFIG		glTranConfig[] =
{
	{_T_NOOP("CARDVER"), 	    "0100", "380000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL,0},
	{_T_NOOP("AUTH"),           "0100", "000000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL,0},
	{_T_NOOP("SALE"),           "0200", "000000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("INSTALLMENT"),    "0200", "400000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("BATCH UPLOAD"),   "0320", "000000", ACT_INC_TRACE,0},
	{_T_NOOP("LOGON"),          "0800", "920000", 0},
	{_T_NOOP("REFUND"),         "0200", "200000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_REFUND_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("REVERSAL"),       "0400", "000000", 0},
	//{_T_NOOP("SETTLEMENT"),     "0500", "960000", ACT_INC_TRACE,0},
	{_T_NOOP("SETTLEMENT"),     "0500", "920000", ACT_INC_TRACE,0},
	{_T_NOOP("INITIALIZATION"), "0800", "920000", ACT_INC_TRACE,0},
	{_T_NOOP("VOID"),           "0200", "020000", PRN_RECEIPT+NEED_REVERSAL+ACT_INC_TRACE,0},
	{_T_NOOP("UPLOAD OFFLINE"), "0220", "000000", PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("OFFLINE"),        "0220", "000000", PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+WRT_RECORD+VOID_ALLOW,0}, 
	{_T_NOOP("SALECOMP"),       "0220", "000000", PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("CASH"),           "0200", "010000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("SALE_OR_AUTH"),   "0200", "000000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("TC-ADVICE"),      "0320", "940000", ACT_INC_TRACE,0},
	{_T_NOOP("ECHO-TEST"),      "0800", "990000", 0},
	{_T_NOOP("PIN VERIFY"), 	"0100", "311000", NEED_LOGON+ACT_INC_TRACE,0},	//irf PINVERIFY, 20121129
	{_T_NOOP("LOAD PARAM"),   	"0800", "000000", 0},	//TRANS_TYPE_TMS_TELIUM, irf, 20121205
	{_T_NOOP("CARD VERIFY"), 	"0200", "000000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("BALANCE"), 		"0200", "000000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("ADJUST"), 		"0200", "000000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	//LTMK
	{_T_NOOP("DOWNLOAD LTMK"),  "0800", "970000", 0,0},

	//LTWK
	{_T_NOOP("DOWNLOAD LTWK"),  "0800", "920000", 0,0},

	//PREPAID
	{_T_NOOP("PREPAID SALE"), 	"0220", "000000", PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+WRT_RECORD,0},
	{_T_NOOP("UPDATE BALANCE"), "0200", "450000", 0,0},	//inquiry
	{_T_NOOP("UPDATE BALANCE"), "0200", "440000", PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD,0},

	//add cung for BRI

	//PURCHASE
	{_T_NOOP("SALE REDEMPTION"),"0200", "000000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+VOID_ALLOW+WRT_RECORD+IN_SALE_TOTAL,0},
	{_T_NOOP("PRIVILAGE"), 		"0200", "306000", PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("CICILAN BRING"), 	"0200", "000000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+VOID_ALLOW+WRT_RECORD+IN_SALE_TOTAL,0},
	#ifdef BANK_HSBC
	{_T_NOOP("CICILAN"), 		"0200", "000000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+VOID_ALLOW+WRT_RECORD+IN_SALE_TOTAL,0}, //Cicilan HSBC
	#else
	{_T_NOOP("CICILAN"), 		"0200", "400000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+VOID_ALLOW+WRT_RECORD+IN_SALE_TOTAL,0}, //Cicilan Bukopin
	#endif//CICILAN BUKOPIN 4000000 HSBC 00000
	//ABSENSI
	{_T_NOOP("ABSENSI"),        "0100", "311000", 0,0},

	//CARD SERVICE
	{_T_NOOP("AKTIVASI KARTU"), "0100", "500000", 0,0},
	{_T_NOOP("AKTIVASI KARTU"), "0200", "301090", 0,0},
	{_T_NOOP("AKTIVASI KARTU"), "0200", "101090", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},

	{_T_NOOP("RENEWAL KARTU"),  "0100", "500000", 0,0},
	{_T_NOOP("RENEWAL KARTU"),  "0200", "301090", 0,0},
	{_T_NOOP("RENEWAL KARTU"),  "0200", "101090", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},

	{_T_NOOP("REISSUE PIN"),    "0100", "500000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("REISSUE PIN"),    "0200", "301090", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	
	{_T_NOOP("UBAH PIN"),       "0100", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	
	{_T_NOOP("UBAH PWD SPV"),   "0100", "500001", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	
	//MINIATM
	//REGISTRASI
	{_T_NOOP("SMS BANKING"),    "0100", "111000", PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("PHONE BANKING"),  "0100", "111000", PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("I-BANKING"),      "0100", "500000", PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("REG. TRANSFER"), 	"0100", "304000", 0,0},//inqiry
	{_T_NOOP("REG. TRANSFER"), 	"0100", "500000", PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("REG. NO HP"), 	"0100", "500000", PRN_RECEIPT+ACT_INC_TRACE,0},
	//INFORMASI
	{_T_NOOP("INFORMASI SALDO"),"0100", "303000",PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("SALDO BANK LAIN"),"0100", "301000",PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("MINI STATEMENT"), "0100", "303000",PRN_RECEIPT+ACT_INC_TRACE,0},
	{_T_NOOP("MUTASI REKENING"),"0100", "303100",PRN_RECEIPT+ACT_INC_TRACE,0},
	//TRANSFER
	{_T_NOOP("TRF. SESAMA BRI"),"0100", "304000", 0,0},//inquiry
	{_T_NOOP("TRF. SESAMA BRI"),"0200", "401000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("TRF. ANTAR BANK"),"0100", "304000", 0,0},//inquiry
	{_T_NOOP("TRF. ANTAR BANK"),"0200", "401000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	//PEMBAYARAN
	{_T_NOOP("TELKOM"), 		"0200", "010072", 0,0},//Inquiry
	{_T_NOOP("TELKOM"), 		"0200", "110072", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KARTU HALO"), 	"0100", "331030", 0,0},//Inquiry
	{_T_NOOP("KARTU HALO"), 	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	////{_T_NOOP("KARTU MATRIX"), 	"0100", "331030", 0,0},//Inquiry
	////{_T_NOOP("KARTU MATRIX"), 	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("TELEPON SELULAR"), 	"0200", "000000", 0,0},//Inquiry
	{_T_NOOP("TELEPON SELULAR"), 	"0200", "000000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("PLN POSTPAID"), 	"0200", "380000", 0,0},//Inquiry
	{_T_NOOP("PLN POSTPAID"), 	"0200", "180000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},

	{_T_NOOP("PLN PREPAID"), 	"0200", "370000", 0,0},//Inquiry
	{_T_NOOP("PLN PREPAID"), 	"0200", "170001", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	
	{_T_NOOP("PLN TOKEN"), 		"0200", "170002", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},

	{_T_NOOP("KK BRI"), 		"0100", "331030", 0,0},//Inquiry
	{_T_NOOP("KK BRI"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK CITIBANK"), 	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KTA CITIBANK"), 	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK SCB"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KTA SCB"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK HSBC"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KTA HSBC"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK RBS"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KTA RBS"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK ANZ"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("FIF"), 			"0100", "381000", 0,0},//Inquiry
	{_T_NOOP("FIF"),	 		"0200", "171000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("BAF"), 			"0100", "381000", 0,0},//Inquiry
	{_T_NOOP("BAF"), 			"0200", "171000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("OTO"), 			"0100", "381000", 0,0},//Inquiry
	{_T_NOOP("OTO"), 			"0200", "171000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("FINANSIA"), 		"0100", "381000", 0,0},//Inquiry
	{_T_NOOP("FINANSIA"), 		"0200", "171000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("VERENA"), 		"0100", "381000", 0,0},//Inquiry
	{_T_NOOP("VERENA"), 		"0200", "171000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("WOM"), 			"0100", "381000", 0,0},//Inquiry
	{_T_NOOP("WOM"), 			"0200", "171000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	
	{_T_NOOP("ZAKAT"), 			"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("INFAQ"), 			"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("DPLK"), 			"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("GARUDA"), 		"0100", "331030", 0,0},//Inquiry
	{_T_NOOP("GARUDA"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("LION AIR"), 		"0100", "331030", 0,0},//Inquiry
	{_T_NOOP("LION AIR"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("SRIWIJAYA AIR"), 	"0100", "331030", 0,0},//Inquiry
	{_T_NOOP("SRIWIJAYA AIR"), 	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("MERPATI"), 		"0100", "331030", 0,0},//Inquiry
	{_T_NOOP("MERPATI"), 		"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("BRIVA"), 			"0200", "350000", 0,0},//Inquiry
	{_T_NOOP("BRIVA"), 			"0200", "150000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("SPP ONLINE"), 	"0200", "350100", 0,0},//Inquiry
	{_T_NOOP("SPP ONLINE"), 	"0200", "171000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("AXIS"),          	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("ESIA"),          	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	//{_T_NOOP("FREN/MOBI/HEPI"), "0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0}, // ditutup tgl 6 Januari 2004
	{_T_NOOP("IM3/MENTARI"),          	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("MENTARI"),        "0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("SIMPATI/AS"),     "0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("SMARTFREN"),      "0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("THREE"),          "0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("XL"),          	"0200", "111000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},

	//LOGON
	{_T_NOOP("LOGON"),          "0800", "920000", 0,0},
	{_T_NOOP("TEST KONEKSI"),   "0800", "920000", 0,0},

	{_T_NOOP("INFO SALDO"),     "0000", "000000", 0,0},
	{_T_NOOP("OFFLINE BRIZZI"), "0500", "808000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD+VOID_ALLOW, IN_BRIZZI_OFFLINE_SALE_TOTAL},
	{_T_NOOP("TOPUP BRIZZI"),  	"0200", "818000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD, IN_BRIZZI_TOPUP_ONL_TOTAL},
	{_T_NOOP("AKTIVASI DEPOSIT"),"0200", "818200", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD, IN_BRIZZI_AKT_DEPOSIT_TOTAL},
	{_T_NOOP("INFO DEPOSIT"),  	"0100", "308000", PRN_RECEIPT, 0},
	{_T_NOOP("TOPUP DEPOSIT"),  "0200", "818100", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD, IN_BRIZZI_TOPUP_DEP_TOTAL},

	{_T_NOOP("VOID BRIZZI"),  	"0200", "808201", 0,0 },//inquiry
	{_T_NOOP("VOID BRIZZI"),  	"0200", "808202", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD, IN_BRIZZI_OFFLINE_SALE_TOTAL},
	
	{_T_NOOP("SETTLEMENT"),     "0200", "808200", ACT_INC_TRACE,0},

	{_T_NOOP("PRINT SUMMARY"),  "0000", "000000", 0,0},
	{_T_NOOP("PRINT DETAIL"),   "0000", "000000", 0,0},
	
	{_T_NOOP("REDEEM BRIZZI"),  "0100", "308300", 0,0},
	{_T_NOOP("REDEEM BRIZZI"),  "0200", "818300", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD, IN_BRIZZI_REDEEM_TOTAL},
	{_T_NOOP("REAKTIVASI"),  	"0200", "818601 ", 0, 0},	//inquiry
	{_T_NOOP("REAKTIVASI"),  	"0200", "818600", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD, IN_BRIZZI_REAKTIVASI_TOTAL},

	{_T_NOOP("TARIK TUNAI"), 	"0200", "011000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
	{_T_NOOP("SETOR PINJAMAN"), "0100", "305000", 0,0},
	{_T_NOOP("SETOR PINJAMAN"), "0200", "021000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("SETOR SIMPANAN"), "0100", "304000", 0,0},
	{_T_NOOP("SETOR SIMPANAN"), "0200", "022000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("VOID TARIK TUNAI"),"0200", "211000", PRN_RECEIPT+NEED_REVERSAL+ACT_INC_TRACE,0},

	//T-BANK PROGRESS
	{_T_NOOP("CASH IN"), 		"0200","022201", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	//{_T_NOOP("CASH OUT"), "0100", "311001",0,0},//Inquiry
	{_T_NOOP("CASH OUT"), 		"0200","011201", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	//SSB
	{_T_NOOP("SIM BARU"), "0100","304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("SIM PERPANJANGAN"),"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("PENINGKATAN"), 	"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("PENURUNAN"), 		"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("MUTASI GOL.SAMA"),"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("MUT. PENINGKATAN"),"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("MUT. PENURUNAN"), "0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("H/R GOL.SAMA"), 	"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("H/R PENINGKATAN"),"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("H/R PENURUNAN"), 	"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("UJI SIMULATOR"), 	"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("BPKB BARU"), 		"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("GANTI PEMILIK"), 	"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("STCK"), 			"0100", 	"304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("MUTASI RANMOR"), 	"0100", "304000", PRN_RECEIPT+ACT_INC_TRACE+WRT_RECORD,0},
	{_T_NOOP("PEMBAYARAN SSB"), "0200", "170200",PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("SETOR PASTI"), 	"0200", "304010", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	//ARTHA JASA
	{_T_NOOP("PURCHASE_INQ"),	"0100", "390000", 0,0},
	{_T_NOOP("PURCAHSE"),		"0200", "400000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD, IN_SALE_TOTAL},
	{_T_NOOP("LOGON BUKOPIN"),	"0800", "910000", 0,0},
	{_T_NOOP("CASH ADVANCE"),   "0200", "010000", NEED_LOGON+PRN_RECEIPT+ACT_INC_TRACE+IN_SALE_TOTAL+NEED_REVERSAL+WRT_RECORD+VOID_ALLOW,0},
		
	//diki add for mini atm bukopin 
	{_T_NOOP("TRANSFER"),"0200", "010050", 0,0},//inquiry
	{_T_NOOP("TRANSFER"),"0200", "110000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	///{_T_NOOP("TRF. ANTAR BANK"),"0200", "110000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("MULTIFINANCE"),"0200", "010078", 0,0},//inquiry
	{_T_NOOP("MULTIFINANCE"),"0200", "110078", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("MULTIFINANCE"),"0200", "010078", 0,0},//inquiry
	{_T_NOOP("MULTIFINANCE"),"0200", "110078", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("MULTIFINANCE"),"0200", "010078", 0,0},//inquiry
	{_T_NOOP("MULTIFINANCE"),"0200", "110078", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("MULTIFINANCE"),"0200", "010078", 0,0},//inquiry
	{_T_NOOP("MULTIFINANCE"),"0200", "110078", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("TARIK TUNAI INQ"), 	"0200", "010050",  0,0},//inquiry
	{_T_NOOP("TARIK TUNAI"), 	"0200", "060000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("SETOR TUNAI INQ"), 	"0200", "010050",  0,0},//inquiry
	{_T_NOOP("SETOR TUNAI"), 	"0200", "070000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("INFO SALDO"), 	"0200", "010000",  0,0},//inquiry

	{_T_NOOP("UBAH PIN"),       "0200", "020000",  0,0},//inquiry

	{_T_NOOP("KK ANZ"), 		"0200", "010079",  0,0},//inquiry
	{_T_NOOP("KK ANZ"), 		"0200", "110079", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK BUKOPIN"), 	"0200", "010079",  0,0},//inquiry
	{_T_NOOP("KK BUKOPIN"), 	"0200", "110079", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK BNI"), 		"0200", "010079",  0,0},//inquiry
	{_T_NOOP("KK BNI"), 		"0200", "110079", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("KK HSBC"), 		"0200", "010079",  0,0},//inquiry
	{_T_NOOP("KK HSBC"), 		"0200", "110079", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},

	{_T_NOOP("PALYJA"), 		"0200", "000000",  0,0},//inquiry
	{_T_NOOP("PALYJA"), 		"0200", "000000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	{_T_NOOP("AETRA"), 			"0200", "000000",  0,0},//inquiry
	{_T_NOOP("AETRA"), 			"0200", "000000", PRN_RECEIPT+ACT_INC_TRACE+NEED_REVERSAL+WRT_RECORD,0},
	
};

HOST_ERR_MSG	glHostErrMsg[] =		//error code Bit 39
{
	{"00", _T_NOOP("APPROVE")},
	{"**", _T_NOOP("NO RESPONSE CODE")},
	{"\0\0", _T_NOOP("RESPONSE CODE")},
};

// 终端错误信息
// error message for internal error.
TERM_ERR_MSG	glTermErrMsg[] = 
{
	{ERR_COMM_MODEM_OCCUPIED,  _T_NOOP("PHONE OCCUPIED")},
	{ERR_COMM_MODEM_NO_LINE,   _T_NOOP("TRY AGAIN - NC")},
	{ERR_COMM_MODEM_LINE,      _T_NOOP("TRY AGAIN - CE")},
	{ERR_COMM_MODEM_NO_ACK,    _T_NOOP("NO ACK")},
	{ERR_COMM_MODEM_LINE_BUSY, _T_NOOP("LINE BUSY")},
	{ERR_NO_TELNO,             _T_NOOP("NO TEL NO")},
	{ERR_USERCANCEL,           _T_NOOP("USER CANCELED")},
	{ERR_TRAN_FAIL,            _T_NOOP("PROCESS FAILED")},
	{0, ""},
};


uchar debugTx;
uchar debugRx;
uchar debugTLE;
uchar blowfishSetting=TRUE;
uchar TLESetting;
uchar debugIsoReq;
uchar debugIsoRes;
uchar setKeyIn;

uchar countprocEMV;
uchar debugEMV;
uchar debugEMVCalc;
uchar debugTagEmv;

uchar flagNoSIM=TRUE;

uchar BIT48ON;


//// diki add for cek privatelabel card
uchar PrivateLabelCardDetect;


//// diki add for cek ATMB Menu Merchant = true, nasabah = false
uchar MenuAtmbMerchantNasabah;




// end of file

